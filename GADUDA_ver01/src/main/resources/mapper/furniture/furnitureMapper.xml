<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="kr.co.gaduda.mapper.furniture.FurnitureMapper">

	<!-- 스크랩에서 사용할 가구사진 경로 가져오기 -->
	<select id="fur_pic_loc" resultType="string">
		select fur_pic_loc from furniture_picture where fur_no = #{fur_no}
	</select>

	<!-- 가구스크랩 리스트용 가구정보 가져오기 -->
	<select id="furniture_basic_info" resultType="kr.co.gaduda.scrap.vo.FurnitureBasicVO">
		select fur_name, fur_price, fur_brand_name 
 		 from furniture f, furniture_brand fb where f.fur_brand_no = fb.fur_brand_no 
 		 and fur_no = #{fur_no}
	</select>
	
	<!-- 해당 가구 스크랩 갯수 가져오기 -->
	<select id="furniture_scrap_count" resultType="int">
		select count(*) from furniture_scrap where fur_no = #{fur_no}
	</select>
	
	<!-- 해당 회원이 가지고 있는 가구 스크랩번호, 가구 스크랩의 가구번호,스크랩 날짜들 가져오기 -->	
	<select id="furniture_scrap_furniture_no" resultType="kr.co.gaduda.scrap.vo.FurnitureNoDateVO">
		select fur_scrap_no, fur_no, fur_scrap_date from furniture_scrap where mem_id = #{mem_id}	
	</select>
	
	<!-- 가구스크랩 삭제 -->
	<delete id="furniture_scrap_delete">
		delete from furniture_scrap where fur_scrap_no = #{fur_scrap_no}
	</delete>
  	
</mapper>